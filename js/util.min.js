var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0;function S(e){return typeof e=="boolean"}function O(e){return typeof e=="number"&&!Number.isNaN(e)&&Number.isFinite(e)}function b(e){return A(e)?!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e)):O(e)}function A(e){return typeof e=="string"}function I(e){return A(e)&&e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""}function d(e){return typeof e=="object"&&e!==null&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function P(e){return d(e)&&Object.keys(e).length===0}function $(e){return typeof e=="object"&&e===null}function g(e){return Array&&Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}function V(e){if(!g(e))return!1;for(let t of e)if(!S(t))return!1;return!0}function z(e){if(!g(e))return!1;for(let t of e)if(!O(t))return!1;return!0}function B(e){if(!g(e))return!1;for(let t of e)if(!A(t))return!1;return!0}function _(e){if(!g(e))return!1;for(let t of e)if(!d(t))return!1;return!0}function k(e){return g(e)&&e.length===0}function E(e){return typeof e=="function"}function H(e){return e===void 0||$(e)}function v(e){return e===void 0}function L(e,t){return typeof e==typeof t&&e.constructor===t.constructor}function F(e,t){return Math.random()*(t-e)+e}function M(e,t){if(e.length===1)return e[0];let n=[];for(let r=0;r<e.length-1;r++){let o=(1-t)*e[r].x+t*e[r+1].x,f=(1-t)*e[r].y+t*e[r+1].y;n.push({x:o,y:f})}return M(n,t)}function U(e){return e.split(/([0-9]+)/)}function Z(e){return e.split(/([0-9]+\.[0-9]+)+/)}function D(e){return e.replace(/[！-～]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}).replace(/[^\S\r\n]/g,function(t){return" "})}function Q(e){return e.replace(/[!-~]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+65248)}).replace(/[^\S\r\n]/g,function(t){return"\u3000"})}function W(e,t){function n(f,u){let l=[];for(let i=0;i<f.length+1;i++){l.push([]);for(let c=0;c<u.length+1;c++)l[i][c]=0}return l}function r(f,u,l){for(let i=1;i<=u.length;i++)for(let c=1;c<=l.length;c++)u[i-1]===l[c-1]?f[i][c]=f[i-1][c-1]+1:f[i][c]=Math.max(f[i-1][c],f[i][c-1]);return f}function o(f,u,l){let i=0,c=1,w=-1,x=[],C=0,s=u.length,h=l.length;for(;s>0||h>0;){let a=x[x.length-1],y=u[s-1],m=l[h-1];s>0&&h>0&&y===m?(a&&a.type===i?a.value=y+a.value:x.push({type:i,value:y}),C++,s--,h--):h>0&&(s===0||f[s][h-1]>=f[s-1][h])?(a&&a.type===c?a.value=m+a.value:x.push({type:c,value:m}),h--):s>0&&(h===0||f[s][h-1]<f[s-1][h])&&(a&&a.type===w?a.value=y+a.value:x.push({type:w,value:y}),s--)}return{acc:C*2/(u.length+l.length),result:x.reverse()}}return o(r(n(e,t),e,t),e,t)}function j(){return Math.floor(new Date().getTime()/1e3).toString(16)+"xxxxxx".replace(/x/g,function(e){return Math.floor(Math.random()*16).toString(16)})+(T++).toString(16).padStart(6,"0")}function K(e,t){if(t.length===0)return e;let n="",r=0;for(;t.length<e.length;)t+=t;for(;r<e.length;)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r)),r++;return n}function Y(e,t){if(e=String(e),/[^\0-\xFF]/.test(e))throw new Error("The string to be encoded contains characters outside of the Latin1 range.");let n=e.length%3,r="",o=-1,f,u,l,i,c=e.length-n;for(;++o<c;)f=e.charCodeAt(o)<<16,u=e.charCodeAt(++o)<<8,l=e.charCodeAt(++o),i=f+u+l,r+=p.charAt(i>>18&63)+p.charAt(i>>12&63)+p.charAt(i>>6&63)+p.charAt(i&63);return n==2?(f=e.charCodeAt(o)<<8,u=e.charCodeAt(++o),i=f+u,r+=p.charAt(i>>10)+p.charAt(i>>4&63)+p.charAt(i<<2&63)+"="):n==1&&(i=e.charCodeAt(o),r+=p.charAt(i>>2)+p.charAt(i<<4&63)+"=="),(t?`data:${t};base64,`:"")+r}function G(e){e=String(e).replace(/^data:([A-Za-z-+\/]+);[A-Za-z0-9]+,/,"").replace(/[\t\n\f\r ]/g,"");let t=e.length;if(t%4==0&&(e=e.replace(/==?$/,""),t=e.length),t%4==1||/[^+a-zA-Z0-9/]/.test(e))throw new Error("Invalid character: the string to be decoded is not correctly encoded.");let n=0,r,o,f="",u=-1;for(;++u<t;)o=p.indexOf(e.charAt(u)),r=n%4?r*64+o:o,n++%4&&(f+=String.fromCharCode(255&r>>(-2*n&6)));return f}function J(e){let t=[],n=0,r=e.replace(/\\'|\\"/g,"00"),o=null,f="";for(;n<e.length;)o?r[n]===o?(t.push(f),f="",o=null):f+=e[n]:r[n]==="'"||r[n]==='"'?o=e[n]:r[n]===" "?f!==""&&(t.push(f),f=""):f+=e[n],n++;return f.trim()!==""&&t.push(f),t}function X(e){let t=e.indexOf("?")>-1?e.split("?").pop():e,n={};for(let[r,o]of new URLSearchParams(t).entries())n[r]?n[r].push(o):n[r]=[o];return n}function N(e,t){return e.replace(/\$\{[^}]+\}/g,function(n){let r=n.substring(2,n.length-1)??"";return r.indexOf(".")>-1?N("${"+r.split(".").slice(1).join(".")+"}",t[r.split(".")[0]]):t[r]??""})}function q(e,t){let n=new Array(e);if(E(t))for(let r=0;r<e;r++)n[r]=t(r);else if(d(t))for(let r=0;r<e;r++)n[r]=clone(t);else if(g(t))for(let r=0;r<e;r++)n[r]=clone(t);else if(typeof t<"u")for(let r=0;r<e;r++)n[r]=t;return n}function ee(e){return e.reduce(function(t,n){return n<t?n:t},e[0]||0)}function te(e){return e.reduce(function(t,n){return n>t?n:t},e[0]||0)}function ne(e){return e.reduce(function(t,n){return t+n},0)/e.length}function re(e){let t={},n=e[0],r=1;for(let o=0;o<e.length;o++){let f=e[o];t[f]=t[f]?t[f]+1:1,t[f]>r&&(n=f,r=t[f])}return n}function ie(e){let t=[v,$,S,O,A,d,g,E];return e.sort(function(n,r){let o=t.findIndex(function(u){return u(n)}),f=t.findIndex(function(u){return u(r)});return o!==f?o-f:o===0||o===1?0:o===2?n!==r?n?1:-1:0:o===3?n-r:o===4?n.localeCompare(r,void 0,{numeric:!0,sensitivity:"base"}):o===5?Object.keys(n).length-Object.keys(r).length:o===6?n.length-r.length:0})}function ue(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function fe(e){return e[Math.floor(F(0,e.length))]}function le(e){function t(u){if(u.length<1)return;let l=[];for(let i=0;i<u.length;i++)l.push(0);return l}function n(u,l){for(let i=u.length-1;i>=0;i--){if(l[i]<u[i].length-1)return l[i]+=1,l;l[i]=0}}function r(u,l){let i=[];for(let c=0;c<u.length;c++)i.push(u[c][l[c]]);return i}let o=[],f=t(e);for(;f;){let u=r(e,f);o.push(u),f=n(e,f)}return o}function R(e){let t=g(e)?[]:{};for(let[n,r]of Object.entries(e))t[n]=d(r)&&!$(r)?R(r):r;return t}function oe(e,t){let n={};for(let r of e)n[String(r[t])]?n[String(r[t])].push(r):n[String(r[t])]=[r];return n}function ce(e,t){let n={and:["$and"],notAnd:["$notAnd","$nand"],or:["$or"],notOr:["$notOr","$nor"],not:["$not"],include:["$include","$in"],exclude:["$exclude","$nin"],greaterThan:["$greaterThan","$gt"],greaterThanOrEqual:["$greaterThanOrEqual","$gte"],lessThan:["$lessThan","$lt"],lessThanOrEqual:["$lessThanOrEqual","$lte"],equal:["$equal","$eq"],notEqual:["$notEqual","$neq","$ne"],function:["$function","$func","$fn"],regexp:["$regexp","$regex","$re","$reg"]};function r(u,l){for(let[i,c]of Object.entries(l))if(!o(u,c,i.split(".")))return!1;return!0}function o(u,l,i){let c=i.shift();return i.length>0?d(u)?o(u[c],l,i):!1:f(u,l,c)}function f(u,l,i){if(n.and.indexOf(i)>-1){for(let c of l)if(!r(u,c))return!1;return!0}else{if(n.notAnd.indexOf(i)>-1)return!f(u,l,"$and");if(n.or.indexOf(i)>-1){for(let c of l)if(r(u,c))return!0;return!1}else{if(n.notOr.indexOf(i)>-1)return!f(u,l,"$or");if(n.not.indexOf(i)>-1)return!r(u,l);if(n.include.indexOf(i)>-1)if(g(u)){for(let c of u)if(!f(c,l,"$include"))return!1;return!0}else{for(let c of l)if(f(u,c,"$equal"))return!0;return!1}else{if(n.exclude.indexOf(i)>-1)return!f(u,l,"$include");if(n.greaterThan.indexOf(i)>-1)return u>l;if(n.greaterThanOrEqual.indexOf(i)>-1)return u>=l;if(n.lessThan.indexOf(i)>-1)return u<l;if(n.lessThanOrEqual.indexOf(i)>-1)return u<=l;if(n.equal.indexOf(i)>-1)if(g(u)&&g(l)){if(u.length!==l.length)return!1;for(let c=0;c<l.length;c++)if(u[c]!==l[c])return!1;return!0}else return u===l;else return n.notEqual.indexOf(i)>-1?!f(u,l,"$equal"):n.function.indexOf(i)>-1?l(u):n.regexp.indexOf(i)>-1?l.test(u):d(u)?d(l)?r(u[i],l):f(u[i],l,"$equal"):!1}}}}return r(e,t)}function ae(e,t){let n=e.width/e.height;return n<t.width/t.height?{width:t.height*n,height:t.height}:{width:t.width,height:t.width/n}}function se(e,t){let n=e.width/e.height;return n<t.width/t.height?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}}function he(e){return new Promise(function(t){return setTimeout(t,e)})}function ge(e){return e.reduce(function(t,n){return t.then(function(r){return n().then(function(o){return r.concat([o])})})},Promise.resolve([]))}export{q as array,M as bezier,le as cases,fe as choose,W as compare,ae as contain,R as copy,se as cover,G as fromBase64,oe as group,j as id,g as isArray,S as isBoolean,V as isBooleanArray,H as isEmpty,k as isEmptyArray,P as isEmptyObject,I as isEmptyString,E as isFunction,$ as isNull,O as isNumber,z as isNumberArray,b as isNumeric,d as isObject,_ as isObjectArray,L as isSameType,A as isString,B as isStringArray,te as max,ne as mean,ee as min,re as mode,J as parseCommand,X as parseQueryString,N as parseTemplate,ge as promiseAll,ce as query,F as random,ue as shuffle,ie as sort,Z as splitFloat,U as splitInt,Y as toBase64,Q as toFullWidth,D as toHalfWidth,he as wait,K as xor};
